# ЁЯФз р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓: Theme Color р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕кр╕╡

## тЬЕ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з

### 1. JavaScript Improvements
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕г reload colors р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕нр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Яр╕нр╕гр╣Мр╕б
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕г reload colors р╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Бр╕▓р╕г navigate
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕г reload colors р╕Чр╕╕р╕Б 3 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡ (fallback)
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕г apply colors р╣Вр╕Фр╕вр╕Хр╕гр╕Зр╕Бр╕▒р╕Ъ navbar elements
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╣Гр╕Кр╣Й `!important` р╣Ар╕Юр╕╖р╣Ир╕н override styles

### 2. Model Improvements
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б validation р╕кр╕│р╕лр╕гр╕▒р╕Ъ hex color format
- тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б auto-prepend `#` р╕Цр╣Йр╕▓р╣Др╕бр╣Ир╕бр╕╡

### 3. Database Update
- тЬЕ р╕нр╕▒р╕Юр╣Ар╕Фр╕Х Primary Color р╣Ар╕Ыр╣Зр╕Щ `#8C1F28` р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

## ЁЯУЛ р╕зр╕┤р╕Шр╕╡р╕Чр╕Фр╕кр╕нр╕Ъ

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: Hard Refresh Browser (р╣Бр╕Щр╕░р╕Щр╕│)
1. р╣Ар╕Ыр╕┤р╕Ф Browser Developer Tools (F12)
2. р╕Бр╕Ф **Ctrl+Shift+R** (Windows/Linux) р╕лр╕гр╕╖р╕н **Cmd+Shift+R** (Mac)
3. р╕лр╕гр╕╖р╕нр╕Др╕ер╕┤р╕Бр╕Вр╕зр╕▓р╕Чр╕╡р╣И Refresh button > **Empty Cache and Hard Reload**

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: Clear Browser Cache
1. р╕Бр╕Ф **Ctrl+Shift+Delete** (Windows/Linux) р╕лр╕гр╕╖р╕н **Cmd+Shift+Delete** (Mac)
2. р╣Ар╕ер╕╖р╕нр╕Б "Cached images and files"
3. р╕Др╕ер╕┤р╕Б "Clear data"
4. Refresh р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 3: Clear Asset Bundle Cache
1. р╣Др╕Ыр╕Чр╕╡р╣И **Settings > Technical > Assets**
2. р╕Др╕ер╕┤р╕Б **Clear Assets Cache**
3. Refresh р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ъ

### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 4: Restart Odoo
```bash
docker-compose restart odoo
```

## ЁЯФН р╕зр╕┤р╕Шр╕╡р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕кр╕╡р╕Цр╕╣р╕Б apply р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

### 1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕Щ Browser Console
1. р╣Ар╕Ыр╕┤р╕Ф Browser Developer Tools (F12)
2. р╣Др╕Ыр╕Чр╕╡р╣И **Console** tab
3. р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ error р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
4. р╕Юр╕┤р╕бр╕Юр╣Мр╕Др╕│р╕кр╕▒р╣Ир╕З:
   ```javascript
   getComputedStyle(document.documentElement).getPropertyValue('--o-brand-primary')
   ```
5. р╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щр╕кр╕╡ `#8C1F28`

### 2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Гр╕Щ Database
```sql
SELECT theme_primary_color, theme_secondary_color, theme_text_color 
FROM res_company 
WHERE id = 1;
```

### 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Controller
1. р╣Ар╕Ыр╕┤р╕Ф Browser Developer Tools (F12)
2. р╣Др╕Ыр╕Чр╕╡р╣И **Network** tab
3. Filter: **XHR**
4. р╕лр╕▓ request: `/custom_theme/get_colors`
5. р╕Фр╕╣ response р╕зр╣Ир╕▓р╕бр╕╡р╕кр╕╡ `#8C1F28` р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

## ЁЯРЫ Troubleshooting

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╕кр╕╡р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ
**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. Hard refresh browser (Ctrl+Shift+R)
2. Clear browser cache
3. Clear asset bundle cache
4. Restart Odoo
5. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ JavaScript load р╕лр╕гр╕╖р╕нр╣Др╕бр╣И (р╕Фр╕╣р╣Гр╕Щ Console)

### р╕Ыр╕▒р╕Нр╕лр╕▓: JavaScript р╣Др╕бр╣И load
**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ module upgrade р╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╕вр╕▒р╕З
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ assets р╕Цр╕╣р╕Б load р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error р╣Гр╕Щ browser console

### р╕Ыр╕▒р╕Нр╕лр╕▓: Controller р╣Др╕бр╣И return р╕кр╕╡
**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й:**
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ company р╕бр╕╡р╕Др╣Ир╕▓ theme colors р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ controller route р╕Цр╕╣р╕Б register р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error р╣Гр╕Щ Odoo logs

## ЁЯУЭ р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕

- р╕кр╕╡р╕Ир╕░р╕Цр╕╣р╕Б apply р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕Чр╕╕р╕Б 3 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡ (fallback)
- р╕кр╕╡р╕Ир╕░р╕Цр╕╣р╕Б apply р╣Ар╕бр╕╖р╣Ир╕нр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Яр╕нр╕гр╣Мр╕б
- р╕кр╕╡р╕Ир╕░р╕Цр╕╣р╕Б apply р╣Ар╕бр╕╖р╣Ир╕нр╕бр╕╡р╕Бр╕▓р╕г navigate
- р╕Хр╣Йр╕нр╕З hard refresh browser р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕кр╕╡р╕Др╕гр╕▒р╣Йр╕Зр╣Бр╕гр╕Б

## тЬЕ р╕кр╕гр╕╕р╕Ы

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В:
1. тЬЕ JavaScript reload colors р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
2. тЬЕ Colors apply р╣Вр╕Фр╕вр╕Хр╕гр╕Зр╕Бр╕▒р╕Ъ navbar
3. тЬЕ Validation hex color format
4. тЬЕ Database updated

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы:**
1. Hard refresh browser (Ctrl+Shift+R)
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕кр╕╡р╕Цр╕╣р╕Б apply р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Ар╕лр╣Зр╕Щ р╣Гр╕лр╣Й clear cache р╣Бр╕ер╕░ restart Odoo

