# üöÄ Zortout Integration - Quick Start Guide

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ (Step-by-Step)

### ‚úÖ Step 1: ‡πÄ‡∏õ‡∏¥‡∏î Zortout Console

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **https://secure.zortout.com/Integration/ApiReference**
2. Login ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö Zortout
3. ‡∏´‡∏ô‡πâ‡∏≤ API Reference ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:
   - **Endpoint Url**: `https://open-api.zortout.com/v4`
   - **storename**: (Email ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
   - **apikey**: (API Key)
   - **apisecret**: (API Secret)

### ‚úÖ Step 2: ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å API Credentials

‡∏à‡∏≤‡∏Å Zortout Console ‡πÉ‡∏´‡πâ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å:

1. **Store Name** (Email):
   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `supa.nattaphon@gmail.com`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Copy** ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ Store Name

2. **API Key**:
   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `V9JPcSPlg3gerpw3BT/ZxR0PSUR7Lo10hedW4v6HZk=`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Copy** ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ API Key

3. **API Secret**:
   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `Iv2QGNVPDXxz2LMnG6V8KlmcjCfzZsb5Lgp7Blq3F0=`
   - ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° **Copy** ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ API Secret

### ‚úÖ Step 3: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Odoo

1. ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà Odoo > **Marketplace** > **Accounts**
2. ‡πÄ‡∏õ‡∏¥‡∏î Account **Zortout** ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
3. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Tab **"OAuth Configuration / API Credentials"**
4. ‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏°‡∏≤:
   - **Store Name**: ‡∏ß‡∏≤‡∏á Store Name (Email) ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏°‡∏≤
   - **API Key**: ‡∏ß‡∏≤‡∏á API Key ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏°‡∏≤
   - **API Secret**: ‡∏ß‡∏≤‡∏á API Secret ‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏°‡∏≤
5. **Save**

### ‚úÖ Step 4: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Warehouse Code

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Inventory** > **Configuration** > **Warehouses**
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö **Warehouse Code** ‡∏Ç‡∏≠‡∏á Warehouse ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ
   - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: `WH001`, `MAIN`, `CENTRAL`
3. ‡∏à‡∏î‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ Sync Stock

### ‚úÖ Step 5: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏∂‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Products)

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Marketplace** > **Jobs**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   ```
   Job Name: Sync Products from Zortout - Test
   Job Type: Sync Products from Zortout
   Account: Zortout (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Account ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ)
   Shop: (‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)
   Payload (JSON):
   ```
   ```json
   {
     "fetch_all": true,
     "warehouse_code": "WH001",
     "filters": {
       "activestatus": 1
     }
   }
   ```
   **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `WH001` ‡πÄ‡∏õ‡πá‡∏ô Warehouse Code ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**
5. Job ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ (‡∏ñ‡πâ‡∏≤ State = Pending)
6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Marketplace** > **Jobs**
   - ‡πÄ‡∏õ‡∏¥‡∏î Job ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
   - ‡∏î‡∏π **Result**:
     - `products_fetched`: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏°‡∏≤
     - `products_created`: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
     - `products_updated`: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö **Activity** log ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Error (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏∂‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å (Stock)

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Marketplace** > **Jobs**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   ```
   Job Name: Sync Stock from Zortout - Test
   Job Type: Sync Stock from Zortout
   Account: Zortout
   Shop: (‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á)
   Payload (JSON):
   ```
   ```json
   {
     "warehouse_code": "WH001",
     "sku_list": ["P0001", "P0002"]
   }
   ```
   **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**: 
   - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô `WH001` ‡πÄ‡∏õ‡πá‡∏ô Warehouse Code ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
   - `sku_list` ‡πÄ‡∏õ‡πá‡∏ô optional - ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠ sync ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
4. ‡∏Ñ‡∏•‡∏¥‡∏Å **Save**
5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
   - ‡∏î‡∏π **Result**:
     - `products_synced`: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà sync
     - `stocks_updated`: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Inventory** > **Products** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Stock

## üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Products:
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Inventory** > **Products**
2. ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà sync ‡∏à‡∏≤‡∏Å Zortout
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:
   - **SKU** (default_code) ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Zortout
   - **Price** (list_price) ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Zortout
   - **Cost** (standard_price) ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Zortout

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Stock:
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Inventory** > **Products**
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà sync
3. ‡∏î‡∏π **On Hand** quantity
4. ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö **Available Stock** ‡∏à‡∏≤‡∏Å Zortout

## ‚ö†Ô∏è Troubleshooting

### ‚ùå API Error: "Wrong credentials"
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: 
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Store Name, API Key, API Secret ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Copy ‡∏°‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô (‡πÑ‡∏°‡πà‡∏°‡∏µ space ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤/‡∏´‡∏•‡∏±‡∏á)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Account Zortout ‡∏¢‡∏±‡∏á Active ‡∏≠‡∏¢‡∏π‡πà

### ‚ùå Products ‡πÑ‡∏°‡πà sync
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Job Status ‡πÅ‡∏•‡∏∞ Error Messages
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Payload ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (JSON format)
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Warehouse Code ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Products ‡πÉ‡∏ô Zortout ‡∏°‡∏µ SKU ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

### ‚ùå Stock ‡πÑ‡∏°‡πà sync
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Warehouse Code ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Products ‡∏°‡∏µ default_code (SKU) ‡πÉ‡∏ô Odoo
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Warehouse Code ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Zortout

### üìã ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs:
```bash
docker compose logs odoo | grep -i zortout
```

## üéØ Payload Examples

### ‡∏î‡∏∂‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:
```json
{
  "fetch_all": true,
  "warehouse_code": "WH001",
  "filters": {
    "activestatus": 1
  }
}
```

### ‡∏î‡∏∂‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏° SKU:
```json
{
  "fetch_all": false,
  "page": 1,
  "limit": 100,
  "filters": {
    "searchsku": "P0001",
    "activestatus": 1
  }
}
```

### Sync Stock ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:
```json
{
  "warehouse_code": "WH001"
}
```

### Sync Stock ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏≤‡∏á SKU:
```json
{
  "warehouse_code": "WH001",
  "sku_list": ["P0001", "P0002", "P0003"]
}
```

## ‚úÖ Checklist

- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á Zortout Account ‡πÉ‡∏ô Odoo
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Store Name, API Key, API Secret
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Warehouse Code
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏∂‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Products)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏∂‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å (Stock)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Products ‡πÉ‡∏ô Inventory
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Stock quantities

## üîÑ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron Job ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Realtime Sync (Optional)

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ sync Stock ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å 5 ‡∏ô‡∏≤‡∏ó‡∏µ:

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Settings** > **Technical** > **Automation** > **Scheduled Actions**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New**
3. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   ```
   Name: Zortout: Sync Stock Realtime
   Model: marketplace.job
   Interval: 5 minutes
   Code:
   ```
   ```python
   account = env['marketplace.account'].search([
       ('channel', '=', 'zortout'),
       ('active', '=', True),
       ('sync_enabled', '=', True)
   ], limit=1)
   
   if account:
       env['marketplace.job'].create({
           'name': 'Zortout Stock Sync - Auto',
           'job_type': 'sync_stock_from_zortout',
           'account_id': account.id,
           'payload': {
               'warehouse_code': 'WH001',  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Warehouse Code ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
           },
           'state': 'pending',
       })
   ```
4. **Save** ‡πÅ‡∏•‡∏∞ **Activate**

---

**üí° Tips:**
- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£ sync Products ‡∏Å‡πà‡∏≠‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ Products ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
- ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢ sync Stock
- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Cron Job ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Stock Sync ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ Realtime data
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Logs ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏£‡πá‡∏ß

