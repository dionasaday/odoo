<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_helpdesk_followup_policy_tree" model="ir.ui.view">
        <field name="name">helpdesk.followup.policy.list</field>
        <field name="model">helpdesk.followup.policy</field>
        <field name="arch" type="xml">
            <list>
                <field name="name" />
                <field name="active" />
                <field name="team_id" />
                <field name="trigger_stage_id" />
                <field name="wait_days" />
                <field name="target_stage_id" />
                <field name="activity_type_id" />
                <field name="due_days" />
                <field name="enable_escalation" />
            </list>
        </field>
    </record>

    <record id="view_helpdesk_followup_policy_form" model="ir.ui.view">
        <field name="name">helpdesk.followup.policy.form</field>
        <field name="model">helpdesk.followup.policy</field>
        <field name="arch" type="xml">
            <form string="Follow-up Policy">
                <sheet>
                    <group>
                        <field name="name" />
                        <field name="active" />
                    </group>
                    <group string="Scope">
                        <field name="team_id" />
                        <field name="tag_ids" widget="many2many_tags" />
                        <field name="domain_filter" placeholder="[('priority', '=', '3')]" />
                    </group>
                    <group string="Trigger / Target">
                        <field name="trigger_stage_id" />
                        <field name="wait_days" />
                        <field name="target_stage_id" />
                    </group>
                    <group string="Activity">
                        <field name="activity_type_id" />
                        <field name="summary" />
                        <field name="note_template" widget="text" />
                        <field name="default_assignee_user_id" />
                        <field name="due_days" />
                    </group>
                    <group string="Escalation">
                        <field name="enable_escalation" />
                        <field name="escalation_after_overdue_days" />
                        <field name="escalation_user_id" />
                        <field name="escalation_activity_type_id" />
                        <field name="escalation_summary" />
                        <field name="escalation_note_template" widget="text" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_helpdesk_followup_policy" model="ir.actions.act_window">
        <field name="name">Follow-up Policies</field>
        <field name="res_model">helpdesk.followup.policy</field>
        <field name="view_mode">list,form</field>
    </record>

    <menuitem
        id="helpdesk_followup_policy_menu"
        name="Follow-up Policies"
        parent="helpdesk_ticket_config_main_menu"
        action="action_helpdesk_followup_policy"
        sequence="95"
        groups="helpdesk_mgmt.group_helpdesk_manager"
    />
</odoo>
