<odoo>
  <!-- Company form: Lateness configuration -->
  <record id="view_company_form_inherit_lateness" model="ir.ui.view">
    <field name="name">res.company.form.lateness</field>
    <field name="model">res.company</field>
    <field name="inherit_id" ref="base.view_company_form"/>
    <field name="arch" type="xml">
      <xpath expr="//sheet" position="inside">
        <group string="Attendance &amp; Discipline (Legacy)" name="legacy_lateness">
          <field name="hr_lateness_grace"/>
          <field name="lateness_alert_min_minutes"/>
          <field name="lateness_alert_every_n"/>
        </group>
        
        <group string="Token-based Lateness Policy 002/2025" name="token_lateness_policy">
          <group>
            <field name="lateness_tier1_max_minutes"/>
            <field name="tokens_tier1"/>
            <field name="tokens_tier2"/>
            <field name="tokens_no_notice"/>
          </group>
          <group>
            <field name="token_period_type"/>
            <field name="token_period_start_day" invisible="token_period_type != 'weekly'"/>
            <field name="token_reset_day_of_month" invisible="token_period_type != 'monthly'"/>
            <field name="lateness_repeat_threshold"/>
            <field name="tokens_starting_per_period"/>
          </group>
        </group>
      </xpath>
    </field>
  </record>

</odoo>
