<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="view_my_summary_tree" model="ir.ui.view">
    <field name="name">hr.discipline.my.summary.tree</field>
    <field name="model">hr.discipline.my.summary</field>
    <field name="arch" type="xml">
      <list string="สรุปคะแนนของฉัน (รายกรณีความผิด)" create="0" edit="0" delete="0">
        <field name="year" string="ปี"/>
        <field name="offense_id" string="กรณีความผิด"/>
        <field name="total_points" string="คะแนนรวม" sum="คะแนนรวม"/>
        <button name="action_open_details" type="object" string="รายละเอียด" class="oe_link"/>
      </list>
    </field>
  </record>

  <record id="view_my_summary_search" model="ir.ui.view">
    <field name="name">hr.discipline.my.summary.search</field>
    <field name="model">hr.discipline.my.summary</field>
    <field name="arch" type="xml">
      <search string="ค้นหาสรุปคะแนน">
        <field name="year" string="ปี"/>
        <field name="offense_id" string="กรณีความผิด"/>
        <!-- Note: Dynamic year filter removed - use domain in action or context instead -->
      </search>
    </field>
  </record>

  <record id="action_my_points_by_catalog" model="ir.actions.act_window">
    <field name="name">สรุปคะแนนของฉัน (รายกรณีความผิด)</field>
    <field name="res_model">hr.discipline.my.summary</field>
    <field name="view_mode">list</field>
    <field name="domain">[('employee_user_id','=', uid)]</field>
    <field name="context">{}</field>
  </record>

  <!-- ใช้ parent เมนูเดิมของโมดูลคุณ -->
  <menuitem id="menu_my_points_by_catalog"
            name="สรุปคะแนนของฉัน (รายกรณีความผิด)"
            parent="onthisday_hr_discipline.menu_my_discipline_root"
            action="onthisday_hr_discipline.action_my_points_by_catalog"
            sequence="15"/>
</odoo>
